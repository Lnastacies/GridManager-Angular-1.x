<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>gm-angular</title>
    <!--引入angular 依赖-->
    <script src="../../node_modules/gridmanager/js/gm.js"></script>
    <link rel="stylesheet" type="text/css" href="../../node_modules/gridmanager/css/gm.css"/>
</head>
<body ng-app="myApp">

<table></table>

<script>
    // 配置GridManager init 必要参数
    var colData = [{
        key: 'name',
        remind: 'the name',
        width: '100px',
        align: 'right',
        text: '名称',
        isShow: false,
        sorting: ''
    },{
        key: 'type',
        remind: 'the type',
        text: '分类',
        isShow: false,
        template: function(type, rowObject){
            return `
							<select>
								<option value="1" ${type === 1 ? 'selected="selected"' : ''}>前端框架、插件</option>
								<option value="2" ${type === 2 ? 'selected="selected"' : ''}>javaScript相关链接</option>
								<option value="3" ${type === 3 ? 'selected="selected"' : ''}>css相关链接</option>
								<option value="4" ${type === 4 ? 'selected="selected"' : ''}>html相关链接</option>
								<option value="4" ${type === 5 ? 'selected="selected"' : ''}>工具类相关链接</option>
								<option value="4" ${type === 6 ? 'selected="selected"' : ''}>其它链接</option>
							</select>`;
        }
    },{
        key: 'info',
        remind: 'the info',
        text: '使用说明'
    },{
        key: 'url',
        remind: 'the url',
        text: 'url'
    },{
        key: 'createDate',
        remind: 'the createDate',
        width: '100px',
        text: '创建时间',
        sorting: 'DESC',
        template: function(createDate, rowObject){
            return new Date(createDate).toLocaleDateString();
        }
    },{
        key: 'lastDate',
        remind: 'the lastDate',
        width: '100px',
        text: '最后修改时间',
        sorting: '',
        template: function(lastDate, rowObject){
            return new Date(lastDate).toLocaleDateString();
        }
    },{
        key: 'action',
        remind: 'the action',
        width: '10%',
        text: `<div>操作</div>`,
        template: function(action, rowObject){
            return '<span class="plugin-action del-action" onclick="delectRowData(this)" learnLink-id="'+rowObject.id+'">删除</span>';
        }
    }];

    document.querySelector('table').GM({
        gridManagerName: 'testAngular',
        height: '400px',
        columnData: colData,
        supportRemind: true,
        isCombSorting:  true,
        supportAjaxPage: true,
        supportSorting: true,
        ajax_url: 'http://www.lovejavascript.com/learnLinkManager/getLearnLinkList',
        ajax_type: 'POST',
        pageSize: 20,
        ajax_success: function(){
            console.log(arguments);
        },
        pagingAfter: function () {
            console.log('pagingAfter');
        }
    })
</script>
</body>
</html>